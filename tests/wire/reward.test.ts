// This file was auto-generated by Fern from our API Definition.

import * as BrevoApi from "../../src/api/index";
import { BrevoApiClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("RewardClient", () => {
    test("getCodeCount (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { count: 1000000 };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/code-pools/cpid/codes-count")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.getCodeCount({
            pid: "pid",
            cpid: "cpid",
        });
        expect(response).toEqual({
            count: 1000000,
        });
    });

    test("getCodeCount (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/code-pools/cpid/codes-count")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getCodeCount({
                pid: "pid",
                cpid: "cpid",
            });
        }).rejects.toThrow(BrevoApi.BadRequestError);
    });

    test("getCodeCount (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/code-pools/cpid/codes-count")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getCodeCount({
                pid: "pid",
                cpid: "cpid",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("getCodeCount (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/code-pools/cpid/codes-count")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getCodeCount({
                pid: "pid",
                cpid: "cpid",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("getCodeCount (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/code-pools/cpid/codes-count")
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getCodeCount({
                pid: "pid",
                cpid: "cpid",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("getCodeCount (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/code-pools/cpid/codes-count")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getCodeCount({
                pid: "pid",
                cpid: "cpid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("getRewardPageApi (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            items: [
                {
                    createdAt: "2024-01-15T09:30:00Z",
                    endDate: "2024-01-15T09:30:00Z",
                    id: "id",
                    loyaltyProgramId: "loyaltyProgramId",
                    name: "name",
                    publicImage: "publicImage",
                    startDate: "2024-01-15T09:30:00Z",
                    state: "state",
                    updatedAt: "2024-01-15T09:30:00Z",
                },
            ],
            totalCount: 1,
        };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.getRewardPageApi({
            pid: "pid",
        });
        expect(response).toEqual({
            items: [
                {
                    createdAt: "2024-01-15T09:30:00Z",
                    endDate: "2024-01-15T09:30:00Z",
                    id: "id",
                    loyaltyProgramId: "loyaltyProgramId",
                    name: "name",
                    publicImage: "publicImage",
                    startDate: "2024-01-15T09:30:00Z",
                    state: "state",
                    updatedAt: "2024-01-15T09:30:00Z",
                },
            ],
            totalCount: 1,
        });
    });

    test("getRewardPageApi (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardPageApi({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("getRewardPageApi (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardPageApi({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("getRewardPageApi (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardPageApi({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("getRewardPageApi (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardPageApi({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("getRewardPageApi (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(424)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardPageApi({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.FailedDependencyError);
    });

    test("getRewardPageApi (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/offers")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardPageApi({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("createReward (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = {
            createdAt: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            name: "name",
            publicDescription: "publicDescription",
            publicImage: "publicImage",
            publicName: "publicName",
            updatedAt: "updatedAt",
        };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/offers")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.createReward({
            pid: "pid",
            name: "name",
        });
        expect(response).toEqual({
            createdAt: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            name: "name",
            publicDescription: "publicDescription",
            publicImage: "publicImage",
            publicName: "publicName",
            updatedAt: "updatedAt",
        });
    });

    test("createReward (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/offers")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createReward({
                pid: "pid",
                name: "name",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("createReward (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/offers")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createReward({
                pid: "pid",
                name: "name",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("createReward (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/offers")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createReward({
                pid: "pid",
                name: "name",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("createReward (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/offers")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createReward({
                pid: "pid",
                name: "name",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("createVoucher (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = {
            code: "code",
            consumedAt: "consumedAt",
            contactId: 1000000,
            createdAt: "2024-01-15T09:30:00Z",
            expirationDate: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            meta: { key: "value" },
            rewardId: "rewardId",
            updatedAt: "2024-01-15T09:30:00Z",
            value: 1.1,
        };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.createVoucher({
            pid: "pid",
            rewardId: "rewardId",
        });
        expect(response).toEqual({
            code: "code",
            consumedAt: "consumedAt",
            contactId: 1000000,
            createdAt: "2024-01-15T09:30:00Z",
            expirationDate: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            meta: {
                key: "value",
            },
            rewardId: "rewardId",
            updatedAt: "2024-01-15T09:30:00Z",
            value: 1.1,
        });
    });

    test("createVoucher (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createVoucher({
                pid: "pid",
                rewardId: "rewardId",
            });
        }).rejects.toThrow(BrevoApi.BadRequestError);
    });

    test("createVoucher (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createVoucher({
                pid: "pid",
                rewardId: "rewardId",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("createVoucher (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createVoucher({
                pid: "pid",
                rewardId: "rewardId",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("createVoucher (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createVoucher({
                pid: "pid",
                rewardId: "rewardId",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("createVoucher (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createVoucher({
                pid: "pid",
                rewardId: "rewardId",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("createVoucher (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { rewardId: "rewardId" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/attribute")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.createVoucher({
                pid: "pid",
                rewardId: "rewardId",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("redeemVoucher (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = {
            cancelledAt: "2024-01-15T09:30:00Z",
            completedAt: "2024-01-15T09:30:00Z",
            contactId: 1000000,
            createdAt: "2024-01-15T09:30:00Z",
            debitTransactionId: "debitTransactionId",
            expiresAt: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            meta: { key: "value" },
            rejectReason: "rejectReason",
            rejectedAt: "2024-01-15T09:30:00Z",
            rewardAttributionId: "rewardAttributionId",
            status: "status",
            updatedAt: "2024-01-15T09:30:00Z",
        };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.redeemVoucher({
            pid: "pid",
        });
        expect(response).toEqual({
            cancelledAt: "2024-01-15T09:30:00Z",
            completedAt: "2024-01-15T09:30:00Z",
            contactId: 1000000,
            createdAt: "2024-01-15T09:30:00Z",
            debitTransactionId: "debitTransactionId",
            expiresAt: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            meta: {
                key: "value",
            },
            rejectReason: "rejectReason",
            rejectedAt: "2024-01-15T09:30:00Z",
            rewardAttributionId: "rewardAttributionId",
            status: "status",
            updatedAt: "2024-01-15T09:30:00Z",
        });
    });

    test("redeemVoucher (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.BadRequestError);
    });

    test("redeemVoucher (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("redeemVoucher (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("redeemVoucher (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("redeemVoucher (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(412)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.PreconditionFailedError);
    });

    test("redeemVoucher (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(417)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.ExpectationFailedError);
    });

    test("redeemVoucher (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("redeemVoucher (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.redeemVoucher({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("completeRedeemTransaction (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            cancelledAt: "2024-01-15T09:30:00Z",
            completedAt: "2024-01-15T09:30:00Z",
            contactId: 1000000,
            createdAt: "2024-01-15T09:30:00Z",
            debitTransactionId: "debitTransactionId",
            expiresAt: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            meta: { key: "value" },
            rejectReason: "rejectReason",
            rejectedAt: "2024-01-15T09:30:00Z",
            rewardAttributionId: "rewardAttributionId",
            status: "status",
            updatedAt: "2024-01-15T09:30:00Z",
        };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.completeRedeemTransaction({
            pid: "pid",
            tid: "tid",
        });
        expect(response).toEqual({
            cancelledAt: "2024-01-15T09:30:00Z",
            completedAt: "2024-01-15T09:30:00Z",
            contactId: 1000000,
            createdAt: "2024-01-15T09:30:00Z",
            debitTransactionId: "debitTransactionId",
            expiresAt: "2024-01-15T09:30:00Z",
            id: "id",
            loyaltyProgramId: "loyaltyProgramId",
            meta: {
                key: "value",
            },
            rejectReason: "rejectReason",
            rejectedAt: "2024-01-15T09:30:00Z",
            rewardAttributionId: "rewardAttributionId",
            status: "status",
            updatedAt: "2024-01-15T09:30:00Z",
        });
    });

    test("completeRedeemTransaction (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.BadRequestError);
    });

    test("completeRedeemTransaction (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("completeRedeemTransaction (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("completeRedeemTransaction (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("completeRedeemTransaction (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(412)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.PreconditionFailedError);
    });

    test("completeRedeemTransaction (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(417)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.ExpectationFailedError);
    });

    test("completeRedeemTransaction (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("completeRedeemTransaction (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/redeem/tid/complete")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.completeRedeemTransaction({
                pid: "pid",
                tid: "tid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("revokeVouchers (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        server
            .mockEndpoint()
            .delete("/loyalty/offer/programs/pid/rewards/revoke")
            .respondWith()
            .statusCode(200)
            .build();

        const response = await client.reward.revokeVouchers({
            pid: "pid",
        });
        expect(response).toEqual(undefined);
    });

    test("revokeVouchers (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/loyalty/offer/programs/pid/rewards/revoke")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.revokeVouchers({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("revokeVouchers (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/loyalty/offer/programs/pid/rewards/revoke")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.revokeVouchers({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("validateReward (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { authorize: true };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.validateReward({
            pid: "pid",
        });
        expect(response).toEqual({
            authorize: true,
        });
    });

    test("validateReward (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.validateReward({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("validateReward (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.validateReward({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("validateReward (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.validateReward({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("validateReward (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.validateReward({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("validateReward (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(424)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.validateReward({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.FailedDependencyError);
    });

    test("validateReward (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/loyalty/offer/programs/pid/rewards/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.validateReward({
                pid: "pid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("getRewardInformation (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            attributionPerConsumer: 1,
            balanceDefinitionId: "balanceDefinitionId",
            code: "code",
            codeCount: 1000000,
            codeGeneratorId: "codeGeneratorId",
            codePoolId: "codePoolId",
            config: "config",
            createdAt: "2024-01-15T09:30:00Z",
            disabledAt: "2024-01-15T09:30:00Z",
            endDate: "2024-01-15T09:30:00Z",
            expirationDate: "2024-01-15T09:30:00Z",
            expirationModifier: "startOfPeriod",
            expirationUnit: "expirationUnit",
            expirationValue: 1,
            generator: {
                createdAt: "createdAt",
                description: "description",
                id: "id",
                name: "name",
                pattern: "pattern",
                updatedAt: "2024-01-15T09:30:00Z",
            },
            id: "id",
            limits: [
                {
                    createdAt: "2024-01-15T09:30:00Z",
                    durationUnit: "durationUnit",
                    durationValue: 1,
                    limitValue: 1,
                    rewardLimitId: "rewardLimitId",
                    slidingSchedule: true,
                    type: "type",
                    updatedAt: "2024-01-15T09:30:00Z",
                },
            ],
            loyaltyProgramId: "loyaltyProgramId",
            meta: { key: "value" },
            name: "name",
            products: [{ createdAt: "createdAt", imageRef: "imageRef", productId: "productId", value: "value" }],
            publicDescription: "publicDescription",
            publicImage: "publicImage",
            publicName: "publicName",
            redeemPerConsumer: 1,
            redeemRules: ["redeemRules"],
            rewardConfigs: { attribution: "attribution", code: "code", value: "value" },
            rule: {
                condition: { op: "op" },
                createdAt: "createdAt",
                description: "description",
                event: { name: "name", source: "source" },
                isInternal: true,
                loyaltyProgramId: "loyaltyProgramId",
                loyaltyVersionId: 1,
                meta: { key: "value" },
                name: "name",
                results: [{}],
                ruleId: "ruleId",
                ruleType: "ruleType",
                updatedAt: "updatedAt",
            },
            startDate: "2024-01-15T09:30:00Z",
            subtractBalanceDefinitionId: "subtractBalanceDefinitionId",
            subtractBalanceStrategy: "subtractBalanceStrategy",
            subtractBalanceValue: 1,
            subtractTotalBalance: true,
            totalAttribution: 1,
            totalRedeem: 1,
            triggerId: "triggerId",
            unit: "unit",
            updatedAt: "updatedAt",
            value: 1.1,
            valueType: "valueType",
        };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.getRewardInformation({
            pid: "pid",
            rid: "rid",
        });
        expect(response).toEqual({
            attributionPerConsumer: 1,
            balanceDefinitionId: "balanceDefinitionId",
            code: "code",
            codeCount: 1000000,
            codeGeneratorId: "codeGeneratorId",
            codePoolId: "codePoolId",
            config: "config",
            createdAt: "2024-01-15T09:30:00Z",
            disabledAt: "2024-01-15T09:30:00Z",
            endDate: "2024-01-15T09:30:00Z",
            expirationDate: "2024-01-15T09:30:00Z",
            expirationModifier: "startOfPeriod",
            expirationUnit: "expirationUnit",
            expirationValue: 1,
            generator: {
                createdAt: "createdAt",
                description: "description",
                id: "id",
                name: "name",
                pattern: "pattern",
                updatedAt: "2024-01-15T09:30:00Z",
            },
            id: "id",
            limits: [
                {
                    createdAt: "2024-01-15T09:30:00Z",
                    durationUnit: "durationUnit",
                    durationValue: 1,
                    limitValue: 1,
                    rewardLimitId: "rewardLimitId",
                    slidingSchedule: true,
                    type: "type",
                    updatedAt: "2024-01-15T09:30:00Z",
                },
            ],
            loyaltyProgramId: "loyaltyProgramId",
            meta: {
                key: "value",
            },
            name: "name",
            products: [
                {
                    createdAt: "createdAt",
                    imageRef: "imageRef",
                    productId: "productId",
                    value: "value",
                },
            ],
            publicDescription: "publicDescription",
            publicImage: "publicImage",
            publicName: "publicName",
            redeemPerConsumer: 1,
            redeemRules: ["redeemRules"],
            rewardConfigs: {
                attribution: "attribution",
                code: "code",
                value: "value",
            },
            rule: {
                condition: {
                    op: "op",
                },
                createdAt: "createdAt",
                description: "description",
                event: {
                    name: "name",
                    source: "source",
                },
                isInternal: true,
                loyaltyProgramId: "loyaltyProgramId",
                loyaltyVersionId: 1,
                meta: {
                    key: "value",
                },
                name: "name",
                results: [{}],
                ruleId: "ruleId",
                ruleType: "ruleType",
                updatedAt: "updatedAt",
            },
            startDate: "2024-01-15T09:30:00Z",
            subtractBalanceDefinitionId: "subtractBalanceDefinitionId",
            subtractBalanceStrategy: "subtractBalanceStrategy",
            subtractBalanceValue: 1,
            subtractTotalBalance: true,
            totalAttribution: 1,
            totalRedeem: 1,
            triggerId: "triggerId",
            unit: "unit",
            updatedAt: "updatedAt",
            value: 1.1,
            valueType: "valueType",
        });
    });

    test("getRewardInformation (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardInformation({
                pid: "pid",
                rid: "rid",
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("getRewardInformation (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardInformation({
                pid: "pid",
                rid: "rid",
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("getRewardInformation (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardInformation({
                pid: "pid",
                rid: "rid",
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("getRewardInformation (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardInformation({
                pid: "pid",
                rid: "rid",
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("getRewardInformation (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(424)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardInformation({
                pid: "pid",
                rid: "rid",
            });
        }).rejects.toThrow(BrevoApi.FailedDependencyError);
    });

    test("getRewardInformation (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/rewards/rid")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getRewardInformation({
                pid: "pid",
                rid: "rid",
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });

    test("getVoucherForAContact (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            contactId: 1000000,
            contactRewards: [
                {
                    code: "code",
                    consumedAt: "consumedAt",
                    createdAt: "createdAt",
                    expirationDate: "expirationDate",
                    id: "id",
                    meta: { key: "value" },
                    rewardId: "rewardId",
                    unit: "unit",
                    updatedAt: "updatedAt",
                    value: 1.1,
                },
            ],
            count: 1,
            loyaltyProgramId: "loyaltyProgramId",
            loyaltySubscriptionId: "loyaltySubscriptionId",
        };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/vouchers")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reward.getVoucherForAContact({
            pid: "pid",
            contactId: 1,
        });
        expect(response).toEqual({
            contactId: 1000000,
            contactRewards: [
                {
                    code: "code",
                    consumedAt: "consumedAt",
                    createdAt: "createdAt",
                    expirationDate: "expirationDate",
                    id: "id",
                    meta: {
                        key: "value",
                    },
                    rewardId: "rewardId",
                    unit: "unit",
                    updatedAt: "updatedAt",
                    value: 1.1,
                },
            ],
            count: 1,
            loyaltyProgramId: "loyaltyProgramId",
            loyaltySubscriptionId: "loyaltySubscriptionId",
        });
    });

    test("getVoucherForAContact (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/vouchers")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getVoucherForAContact({
                pid: "pid",
                contactId: 1,
            });
        }).rejects.toThrow(BrevoApi.UnauthorizedError);
    });

    test("getVoucherForAContact (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/vouchers")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getVoucherForAContact({
                pid: "pid",
                contactId: 1,
            });
        }).rejects.toThrow(BrevoApi.ForbiddenError);
    });

    test("getVoucherForAContact (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/vouchers")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getVoucherForAContact({
                pid: "pid",
                contactId: 1,
            });
        }).rejects.toThrow(BrevoApi.NotFoundError);
    });

    test("getVoucherForAContact (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { message: "message" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/vouchers")
            .respondWith()
            .statusCode(422)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getVoucherForAContact({
                pid: "pid",
                contactId: 1,
            });
        }).rejects.toThrow(BrevoApi.UnprocessableEntityError);
    });

    test("getVoucherForAContact (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new BrevoApiClient({ maxRetries: 0, apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/loyalty/offer/programs/pid/vouchers")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reward.getVoucherForAContact({
                pid: "pid",
                contactId: 1,
            });
        }).rejects.toThrow(BrevoApi.InternalServerError);
    });
});
